---

import CommonModule from '../server-common-module/Common.module';
import { fnGetStateAppObj, fnGetConfigAppObj } from '../InitApp';

// data
const fnOrderById = CommonModule().fnOrderById;
const stateAppObj = fnGetStateAppObj();
const configAppObj = fnGetConfigAppObj();
const domainName = configAppObj.SITE_DOMAIN_LINKS;
const categoryObj = stateAppObj.categories;
const categoryOrderedObj = {
  data: categoryObj.data.sort(fnOrderById),
  meta: categoryObj.meta,
}
---

<aside class="hidden lg:flex lg:flex-col lg:w-1/6 lg:mt-6">
  <ul class="sticky top-2 bg-yellow-100 w-11/12 ml-2">
    <li class="flex flex-row text-zinc-900 font-bold text-center text-sm">
      <a href={domainName} class="w-full p-2 mb-2 underline bg-yellow-300 transition duration-100 hover:bg-yellow-400">
        Inicio
      </a>
    </li>
    {
      categoryOrderedObj.data.map(category => (
        <li class="mt-3 last-of-type:mb-3">
          <a href={domainName+category.attributes.slug} class="text-black font-mono text-sm font-semibold underline underline-offset-1 ml-3 hover:text-yellow-500">
            {category.attributes.name}
          </a>
        </li>
      ))
    }
  </ul>
</aside>