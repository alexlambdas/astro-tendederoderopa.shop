---

import CommonModule from '../server-common-module/Common.module';
import { fnGetStateAppObj, fnGetConfigAppObj } from '../InitApp';

// data
const fnOrderById = CommonModule().fnOrderById;
const stateAppObj = fnGetStateAppObj();
const configAppObj = fnGetConfigAppObj();
const domainName = configAppObj.SITE_DOMAIN_LINKS;
const categoryObj = stateAppObj.categories;
const categoryOrderedObj = {
  data: categoryObj.data.sort(fnOrderById),
  meta: categoryObj.meta,
}
---

<aside class="hidden lg:flex lg:flex-col lg:w-1/6 lg:mt-6">
  <ul class="sticky top-2 bg-yellow-50 w-11/12 ml-2">
    <li class="mt-3 mb-6 ml-7">
      <a href={domainName}>
        <img 
          src={domainName+'/header/brand.png'} 
          width="100px" 
          height="auto" 
          alt="PÃ¡gina principal Tendederos de ropa" 
          class="ml-3"
        >
      </a>
    </li>
    {
      categoryOrderedObj.data.map(category => (
        <li class="mt-3 last-of-type:mb-3">
          <a href={domainName+category.attributes.slug} class="text-black font-mono text-sm font-semibold underline underline-offset-1 ml-3 hover:text-yellow-500">
            {category.attributes.name}
          </a>
        </li>
      ))
    }
  </ul>
</aside>