---

// components
import MainLayout from '../../layouts/MainLayout.astro';
import IntroImageComponent from '../../app/html-intro-image-component/IntroImageComponent.astro';
import AsideSubMenuComponent from '../../app/html-aside-sub-menu-component/AsideSubMenuComponent.astro';
import AsideInterestComponent from '../../app/html-aside-interest-component/AsideInterestComponent.astro';
import ProductsClusterComponent from '../../app/html-products-cluster-component/ProductsClusterComponent.astro';

// logic and common module
import { fnGetConfigAppObj, fnInitApp } from '../../app/InitApp';
import CommonModule from '../../app/server-common-module/Common.module';
import type { ProductType } from '../../app/server-common-module/domain/types/Product.types';

// init app
await fnInitApp();
const fnGetProductSummaryList = CommonModule().fnGetProductSummaryList;
const fnGetProductListForEachId = CommonModule().fnGetProductListForEachId;
const fnAddDescripcionToImages = CommonModule().fnAddDescripcionToImages;
const fnHttpCall = CommonModule().fnHttpCall;
const configApp = fnGetConfigAppObj();

const idListProduct = [50];
const similarProducts = await fnGetProductListForEachId<ProductType>(idListProduct,configApp)(fnHttpCall);
let similarProductsSummaryList = fnGetProductSummaryList(similarProducts)(configApp);

---

<MainLayout page="construction">
  <main class="pt-20 lg:pt-0">
    <IntroImageComponent page="construction"/>
    <br>
    <br>
    <div class="flex flex-col lg:flex-row">
      <AsideSubMenuComponent category="Tipos" subCategoryName="Con poleas" />
      <section class="text-gray-800 font-mono w-11/12 m-auto lg:w-2/3">
        <br>
				<br>
        <ProductsClusterComponent products={similarProductsSummaryList}/>
				<br>
				<br>
      </section>
      <AsideInterestComponent />
    </div>
  </main>
</MainLayout>

